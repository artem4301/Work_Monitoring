# –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω WorkTimeActivity

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

`WorkTimeActivity` –ø–æ–ª—É—á–∏–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ Material Design —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–∞—Ä—Ç–æ—á–µ–∫, –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–≥–æ —Ñ–æ–Ω–∞ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω** - –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- **Toolbar** —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–†–∞–±–æ—á–∞—è —Å–º–µ–Ω–∞"
- **–ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `NestedScrollView`
- **–ö–∞—Ä—Ç–æ—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏

### –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### 1. üïê –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–∞–π–º–µ—Ä–∞
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ** —Å –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º (36sp)
- **–ò–∫–æ–Ω–∫–∞ —Ç–∞–π–º–µ—Ä–∞** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–∫—Ü–µ–Ω—Ç–∞
- **–ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç** –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏
- **–§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏**: `HH:MM:SS` —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –ø–∞—É–∑—ã
- **–¶–≤–µ—Ç–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ** –æ—Å–Ω–æ–≤–Ω—ã–º —Ü–≤–µ—Ç–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 2. üìç –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∏–∫–æ–Ω–∫–∞** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞:
  - üìç `ic_location_on` - –≤ —Ä–∞–±–æ—á–µ–π –∑–æ–Ω–µ (–∑–µ–ª–µ–Ω—ã–π)
  - üìç `ic_location` - –≤–Ω–µ —Ä–∞–±–æ—á–µ–π –∑–æ–Ω—ã (–∫—Ä–∞—Å–Ω—ã–π)
  - ‚è∏Ô∏è `ic_stop` - —Å–º–µ–Ω–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
  - üë§ `ic_face_verification` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** —Å—Ç–∞—Ç—É—Å–∞
- **–ß–µ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### 3. ‚ÑπÔ∏è –ö–∞—Ä—Ç–æ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–º–µ–Ω–µ
- **–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–º–µ–Ω—ã** –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM
- **–û–±—â–µ–µ –≤—Ä–µ–º—è –ø–∞—É–∑** –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM
- **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å** –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –∫–ª—é—á–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### 4. ‚ö° –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π
- **–ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–º–µ–Ω—ã** —Å –∏–∫–æ–Ω–∫–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- **Outlined —Å—Ç–∏–ª—å** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
- **–ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è

## üéØ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
```kotlin
val (status, iconRes, colorRes) = when {
    user.shiftPaused == true -> Triple("–°–º–µ–Ω–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: $reason", R.drawable.ic_stop, R.color.warning)
    user.verificationRequired == true -> Triple("–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è", R.drawable.ic_face_verification, R.color.warning)
    inZone -> Triple("–í —Ä–∞–±–æ—á–µ–π –∑–æ–Ω–µ", R.drawable.ic_location_on, R.color.success)
    else -> Triple("–í–Ω–µ —Ä–∞–±–æ—á–µ–π –∑–æ–Ω—ã", R.drawable.ic_location, R.color.error)
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–¢–∞–π–º–µ—Ä** –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- **–°—Ç–∞—Ç—É—Å** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å Firebase
- **–í—Ä–µ–º—è –ø–∞—É–∑** –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- **–ò–∫–æ–Ω–∫–∏ –∏ —Ü–≤–µ—Ç–∞** –º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
```kotlin
// –û—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–π–º–µ—Ä (–º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç)
timerTextView.text = String.format("%02d:%02d:%02d%s", hours, minutes, seconds, statusSuffix)

// –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–º–µ–Ω—ã
val startTime = SimpleDateFormat("HH:mm", Locale.getDefault()).format(Date(shiftStartTime))

// –í—Ä–µ–º—è –ø–∞—É–∑
pauseTimeText.text = String.format("%02d:%02d", pauseHours, pauseMinutes)
```

## üé® –ù–æ–≤—ã–µ –∏–∫–æ–Ω–∫–∏

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–∫–æ–Ω–∫–∏:
- **`ic_timer.xml`** - –∏–∫–æ–Ω–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
- **`ic_location_on.xml`** - –∏–∫–æ–Ω–∫–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è (–≤ –∑–æ–Ω–µ)
- **`ic_stop.xml`** - –∏–∫–æ–Ω–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∫–æ–Ω–∫–∏:
- **`ic_location.xml`** - –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ (–≤–Ω–µ –∑–æ–Ω—ã)
- **`ic_face_verification.xml`** - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏—Ü–∞

## üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

| –°—Ç–∞—Ç—É—Å | –¶–≤–µ—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|------|----------|
| –í —Ä–∞–±–æ—á–µ–π –∑–æ–Ω–µ | `@color/success` (#4CAF50) | –ó–µ–ª–µ–Ω—ã–π - –≤—Å–µ —Ö–æ—Ä–æ—à–æ |
| –í–Ω–µ —Ä–∞–±–æ—á–µ–π –∑–æ–Ω—ã | `@color/error` (#B00020) | –ö—Ä–∞—Å–Ω—ã–π - –ø—Ä–æ–±–ª–µ–º–∞ |
| –ü–∞—É–∑–∞/–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è | `@color/warning` (#FFC107) | –û—Ä–∞–Ω–∂–µ–≤—ã–π - –≤–Ω–∏–º–∞–Ω–∏–µ |
| –û—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–π–º–µ—Ä | `@color/primary` (#2196F3) | –°–∏–Ω–∏–π - –∞–∫—Ü–µ–Ω—Ç |

## üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –£–ª—É—á—à–µ–Ω–∏—è UX:
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è** - –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã–¥–µ–ª–µ–Ω–∞
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç–∞—Ç—É—Å –≤–∏–¥–µ–Ω —Å –ø–µ—Ä–≤–æ–≥–æ –≤–∑–≥–ª—è–¥–∞
- ‚úÖ **–¶–≤–µ—Ç–æ–≤—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –∫—Ä—É–ø–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∏–¥** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Material Design

### –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:
- üïê **–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã** —Å —É—á–µ—Ç–æ–º –ø–∞—É–∑
- üìç **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å** —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
- ‚è∞ **–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–º–µ–Ω—ã** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è
- ‚è∏Ô∏è **–û–±—â–µ–µ –≤—Ä–µ–º—è –ø–∞—É–∑** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- üéØ **–ü—Ä–æ—Å—Ç—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** - –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

## üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—É–∑–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –∑–æ–Ω—ã
- ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–º–µ–Ω—ã —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üé® –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞
- üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–º–µ–Ω–µ
- üéØ –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω 